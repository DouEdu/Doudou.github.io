<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>上传头像</title>
    <script src="../static/js/jquery-3.6.1.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../static/js/bootstrap.min.js"></script>
    <script src="../static/js/shangchuantx.js" type="text/javascript" charset="utf-8"></script>
    <link href="../static/css/bootstrap.min.css" rel="stylesheet">
    <style>
        a{
            color: gray;
            font-size: 15px;
            padding: 10px;
            text-decoration:none;
        }
        #div1{
            width: 1500px;
            height: 750px;
            /*border: 1px solid darkred;*/
            margin: 0 auto;
        }
        #div2{
            width: 1500px;
            height: 80px;
            border: 1px solid whitesmoke;
        }
        .dns{
            width: 230px;
            height: 50px;
            /*border: 1px solid darkblue;*/
            margin-top: 13px;
            margin-left: 50px;
            float: left;
        }
        .div2-1{
            width: 550px;
            height: 40px;
            /*border: 1px solid darkorange;*/
            margin-left: 900px;
            margin-top: 25px;
        }
        #div3{
            width: 1500px;
            height: 50px;
            /*border: 1px solid dodgerblue;*/
        }
        #div4{
            width: 150px;
            height: 200px;
            /* border: 1px solid deeppink;*/
            margin-left: 320px;
            float: left;
            margin-top: 10px;
        }
        #div4-1{
            width: 130px;
            height: 30px;
            border: 1px solid gainsboro;
            background-color: #F5F5F5;
            padding-top:5px;
            padding-left: 10px;
        }
        #div4-2{
            width: 130px;
            height: 100px;
            border: 1px solid gainsboro;
            size: 13px;
            color: #428BCA;
            padding-top:5px;
            padding-left: 10px;
        }
        #div4-3{
            width: 130px;
            height: 30px;
            border: 1px solid gainsboro;
            background-color: #F5F5F5;
            padding-top:5px;
            padding-left: 10px;
        }
        #div5{
            width: 700px;
            height: 250px;
            border: 1px solid gainsboro;
            margin-left: 480px;
            margin-top: 10px;
        }
        .div5-1{
            width: 700px;
            height: 50px;
            border: 1px solid gainsboro;
            padding-top: 15px;
        }
        .fon{
            padding-left: 25px;
            font-size: 15px;
        }
        .kon-1{
            width: 550px;
            height: 180px;
            /*border: 1px solid darkgreen;*/
            margin: 0 auto;
            margin-top: 10px;
        }
        .but{
            width: 50px;
            height: 30px;
            border: 1px solid  #428BCA;
            background-color:  #428BCA;
            margin-left: 80px;
            margin-top: 15px;
        }
        #div6{
            width: 1500px;
            height: 160px;
            /*border: 1px solid darkgreen;*/
            float: left;
            margin-top: 20px;
        }
        #div7{
            width: 1500px;
            height: 160px;
            /*border: 1px solid darkorange;*/
            float: left;
        }
    </style>
    <script>
        $(function () {

            $('#chooseImg').on('change',function() {
                // 获取文件路径
                var filePath = $(this).val();
                // 截取上传文件的格式为".***"，从而进判断是否为图片格式
                var fileFormat = filePath.substring(filePath.lastIndexOf(".")).toLowerCase();
                // 检查是否是图片格式
                if (!fileFormat.match(/.png|.jpg|.jpeg|.gif/)) {
                    alert('上传错误,文件格式必须为：png/jpg/jpeg/gif');
                    location = location;
                    return;
                }
                //转成可以在本地预览的格式
                var src = window.URL.createObject
                URL(this.files[0]);
                // 将图片路径赋值给img中的src
                $('#headPortrait').attr('src', src);
            });

        })
    </script>
</head>
<body>
    <div id="div1">
        <div id="div2">
            <div class="dns">
                <img src="../static/images/index/stumalllogo.png">
            </div>
            <div class="div2-1">
                <div class="dropdown">
                    <a href="#" data-toggle="dropdown" style="text-decoration:none;"><img style="height: 13px;width: 13px;" src="../static/images/index/齿轮组,设置,设定.png"> 管理<span class="caret"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</a>
                    <a href="/collect" style="text-decoration:none;"><img style="height: 13px;width: 13px;" src="../static/images/index/喜爱.png">收藏&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</a>
                    <a href="/indent" style="text-decoration:none;"><img style="height: 13px;width: 13px;" src="../static/images/index/文件.png">订单&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</a>
                    <a href="/ShoppingCart" style="text-decoration:none;"><img style="height: 13px;width: 13px;" src="../static/images/index/购物车满.png">购物车&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</a>
                    <a href="/" style="text-decoration:none;"><img style="height: 15px;width: 20px;" src="../static/images/index/个人头像_o.png">首页&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</a>
                    <ul class="dropdown-menu">
                        <li><a href="/xgpasswprd">修改密码</a></li>
                        <li><a href="/gerenzl">个人资料</a></li>
                        <li><a href="/shangchuantx">上传头像</a></li>
                        <li><a href="/shouhuogl">收货管理</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div id="div3">
            <img style="width: 1500px;height: 49px" src="../static/images/index/搜索框.png">
        </div>

        <div id="div4">
            <div id="div4-1">
                <font style="font-size: 15px;color: #5e5e5e;">我的订单</font>
            </div>
            <div id="div4-3">
                <font style="font-size: 15px;color: #5e5e5e;">资料修改</font>
            </div>
            <div id="div4-2">
                <p style="height: 10px">修改密码</p>
                <p style="height: 10px">个人资料</p>
                <p style="height: 10px">上传头像</p>
                <p style="height: 10px">收货管理</p>
            </div>
        </div>
        <div id="div5">
            <div class="div5-1">
                <a class="fon" style="text-decoration:none;color: #428BCA;">修改密码</a>
                <a class="fon" style="text-decoration:none;color: #428BCA;">个人资料</a>
                <a class="fon" style="text-decoration:none;color: #5e5e5e;">上传头像</a>
                <a class="fon" style="text-decoration:none;color: #428BCA;">收货管理</a>
            </div>
            <form action="/uploadAvatar" enctype="multipart/form-data" method="post">
            <div class="kon-1">
                    <p>选择头像：</p>
                    <!--<button style="margin-left: 80px"  type=" ">选择文件</button>-->
                                                                     <!--判断 上传图片才可以上传 底下js-->
                    <input  type="file" id="chooseImg" name="file" onchange="if (this.files[0] !=null ){en()}else{di()}">选择头像
                    <!--                <font>未选择任何文件</font>-->
                    <br>
                    <button type="submit" id="submit" disabled="true">上传</button>
            </div>
            </form>
        </div>
        <div>
<!--            <img th:src="|@{user/get}${session.user.userImg}|"/>-->
        </div>
        <div id="div6">
            <img style="width: 1500px;height: 160px" src="../static/images/index/index1.1.png">
        </div>
        <div id="div7">
            <img style="width: 1500px;height: 160px" src="../static/images/index/index1.2.png">
        </div>
    </div>
    <script>
        function en(){
            document.getElementById('submit').disabled=false
        }
        function di(){
            document.getElementById('submit').disabled=true
        }
    </script>
</body>
</html>